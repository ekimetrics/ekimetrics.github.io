<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Introduction to Pyepidemics - epidemiological modeling in Python | Eki.Lab</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://ekimetrics.github.io/blog/introduction-pyepidemics"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Introduction to Pyepidemics - epidemiological modeling in Python | Eki.Lab"><meta data-rh="true" name="description" content="We created Pyepidemics, an open-source library to simulate epidemics (SIR, SEIHDR, COVID19). We detail in this article what you can build with the library."><meta data-rh="true" property="og:description" content="We created Pyepidemics, an open-source library to simulate epidemics (SIR, SEIHDR, COVID19). We detail in this article what you can build with the library."><meta data-rh="true" name="keywords" content="Data Science,EkiLab,Ekimetrics,Eki.Lab,Eki,Machine Learning,Artificial Intelligence,Pyepidemics,Epidemiology,System Dynamics"><meta data-rh="true" property="og:image" content="https://ekimetrics.github.io/img/blog/intro-pyepidemics.jpg"><meta data-rh="true" name="twitter:image" content="https://ekimetrics.github.io/img/blog/intro-pyepidemics.jpg"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2021-12-13T00:00:00.000Z"><meta data-rh="true" property="article:author" content="mailto:inno@ekimetrics.com"><meta data-rh="true" property="article:tag" content="Open-Source,Epidemiology,Bayesian"><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://ekimetrics.github.io/blog/introduction-pyepidemics"><link data-rh="true" rel="alternate" href="https://ekimetrics.github.io/blog/introduction-pyepidemics" hreflang="en"><link data-rh="true" rel="alternate" href="https://ekimetrics.github.io/blog/introduction-pyepidemics" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Eki.Lab RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Eki.Lab Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-124520099-9","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>




<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-124520099-9"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-124520099-9",{anonymize_ip:!0}),gtag("config","G-MQNYE0E8GE",{anonymize_ip:!0})</script><link rel="stylesheet" href="/assets/css/styles.97279a6c.css">
<link rel="preload" href="/assets/js/runtime~main.94bb4230.js" as="script">
<link rel="preload" href="/assets/js/main.b4cb8feb.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><b class="navbar__title text--truncate">Eki.Lab</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">About us</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/about">Ekilab</a></li><li><a class="dropdown__link" href="/about/ekimetrics">Ekimetrics</a></li><li><a class="dropdown__link" href="/about/stack">Technology stack</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Resources</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/resources/">Hackathons</a></li><li><a class="dropdown__link" href="/resources/trainings">Trainings</a></li></ul></div><a href="https://ekimetrics.com/fr/carrieres/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Careers</a></div><div class="navbar__items navbar__items--right"><a href="https://ekimetrics.com/fr/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Ekimetrics website</a><a href="mailto:inno@ekimetrics.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Contact us!<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="searchBox_ZlJk"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><main class="col col--9 col--offset-1" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="image" content="https://ekimetrics.github.io/img/blog/intro-pyepidemics.jpg"><header><h1 class="title_f1Hy" itemprop="headline">Introduction to Pyepidemics - epidemiological modeling in Python</h1><div class="container_mt6G margin-vert--md"><time datetime="2021-12-13T00:00:00.000Z" itemprop="datePublished">December 13, 2021</time> · <!-- -->8 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="mailto:inno@ekimetrics.com" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Théo Alves Da Costa</span></a></div><small class="avatar__subtitle" itemprop="description">Head of AI For Sustainability</small></div></div></div></div></header><div id="__blog-post-container" class="markdown" itemprop="articleBody"><div align="center"><p>  <img loading="lazy" alt="screenshot-app " src="/assets/images/intro-pyepidemics-570112f749aac7c85f218663ef85daed.jpg" width="1189" height="669" class="img_ev3q"></p></div><div align="justify"><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="pyepidemics">Pyepidemics<a href="#pyepidemics" class="hash-link" aria-label="Direct link to Pyepidemics" title="Direct link to Pyepidemics">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="context">Context<a href="#context" class="hash-link" aria-label="Direct link to Context" title="Direct link to Context">​</a></h3><p>During the first wave of COVID19 in 2020, Ekimetrics joined the CoData movement, a coalition of data and artificial intelligence specialists whose goal was to pool their skills to provide answers and solutions on the evolution of the pandemics. We had the chance to work with many epidemiological experts, and as we went along we built a toolbox to facilitate our modeling of the current pandemics. We then put this toolbox in open source under the name <strong>pyepidemics</strong> to contribute to the community on this scientific discipline difficult to apprehend for Data Scientists but with obvious bridges facilitating innovation.
Today, with the resurgence of the epidemic in Europe, it seemed important to present this library more widely to democratize these analyses on a larger scale. </p><ul><li>The library is available on Github at <a href="https://github.com/ekimetrics/pyepidemics" target="_blank" rel="noopener noreferrer">this link</a></li><li>The documentation is available at <a href="https://ekimetrics.github.io/pyepidemics" target="_blank" rel="noopener noreferrer">this link</a></li></ul><p>This article will serve as a synthetic presentation of what can be done with the library, please refer to the documentation for more details. Do not hesitate to post issues on Github and to contribute with new proposals, the development is still in experimental version. </p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="introduction-to-pyepidemics">Introduction to Pyepidemics<a href="#introduction-to-pyepidemics" class="hash-link" aria-label="Direct link to Introduction to Pyepidemics" title="Direct link to Introduction to Pyepidemics">​</a></h3><p>Pyepidemics allows to simply create compartmental epidemiological models (also used in system dynamics) and to solve the differential equations that model the phenomenon. The different features implemented today are: </p><ul><li>Creation of classical compartmental models (SIR, SEIR, SEIDR, etc...)</li><li>Creation of COVID19 related model (with ICU and different levels of symptoms)</li><li>Creation of custom compartmental model</li><li>Implementation of policies (lockdown, tracing, testing, etc...)</li><li>Calibration of epidemiological parameters on real-world data using Bayesian optimization</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="installation">Installation<a href="#installation" class="hash-link" aria-label="Direct link to Installation" title="Direct link to Installation">​</a></h3><p>You can simply install pyepidemics using the command </p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">pip install pyepidemics</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="introduction-to-epidemiological-modeling-in-python">Introduction to epidemiological modeling in Python<a href="#introduction-to-epidemiological-modeling-in-python" class="hash-link" aria-label="Direct link to Introduction to epidemiological modeling in Python" title="Direct link to Introduction to epidemiological modeling in Python">​</a></h2><p>The images, the reasoning and the construction of the first bricks of the library are largely inspired by the exceptional work of Henri Froese with his series of articles on epidemiology, in particular the first article <a href="https://towardsdatascience.com/infectious-disease-modelling-beyond-the-basic-sir-model-216369c584c4" target="_blank" rel="noopener noreferrer">Infectious Disease Modelling: Beyond the Basic SIR Model</a>. </p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="compartmental-models">Compartmental models<a href="#compartmental-models" class="hash-link" aria-label="Direct link to Compartmental models" title="Direct link to Compartmental models">​</a></h3><p>An epidemic is modeled with the different possible states for the population, for example: unaffected, immunized, vaccinated, symptomatic patient, asymptomatic patient, hospitalized, in intensive care ... Each state will be modeled with a compartment, and the population will transition between the different compartments according to parameters of probability and transition duration. In concrete terms, this means solving a system of differential equations as a function of time. </p><p>For example the simplest compartmental model is the SIR model (for the 3 states Susceptible - Infected - Removed).
It is possible to write the following compartments with their transition:</p><div align="center"><p><img loading="lazy" src="data:image/png;base64,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goIzERERmaHG43lvv6488Fj8EpFpyqkJREREREREFKyJiIiIiIiIgjUREREREREFayIiIiIiIqJgTURERERERMGaiIiIiIiIKFgTERERERFRsCYiIiIiIiIK1kRERERERETBmoiIiIiIiII1ERERERERUbAmIiIiIiKiYE1EREREREQUrImIiIiIiChYExEREREREQVrIiIiIiIi8ooyr/J5lcDFQDVgZdhuHrgAqNAlJHLSFfugM4HLgaRM26AGmAvs1uUgIiJS3sHaEDACvB8YLdNgLQBVwEBsCxE5OQpAN3AlcH6Z9kfELIlm4Dkg1WUhUjINwKnAcJm+/hqgPvbFIjJFgrV1wF8DWTUfY8DzagaRk6YH+HugKU6ilLutmkASKRkPvCFOlKRlPI48H/iJ+mCRE8NK/LyZSJ2TyPTsx9QnicirVQ28FThPTTGxsr8OuF+TRSIa5IiIiIhMBdky3id7pBQYVzOIiIiIiIiISFlQ6X4REREREREFayIiIiIiIqJgTURERERERMGaiIiIiIiIKFgTERERERFRsCYiIiIiIiIK1kRERERERBSsiYiIiIiIiII1ERERERERUbAmIiIiIiKiYE1EREREREQUrImIiIiIiChYExERERERkZL5/wEAAP//6bHUKf+SeBsAAAAASUVORK5CYII=" width="875" height="102" class="img_ev3q"></p></div>The transition parameters being given by :<div align="center"><p><img loading="lazy" src="/assets/images/sir2-8ea66548e761663f2852bafada77bb09.png" width="460" height="81" class="img_ev3q"></p></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="building-a-sir-model-with-pyepidemics">Building a SIR model with pyepidemics<a href="#building-a-sir-model-with-pyepidemics" class="hash-link" aria-label="Direct link to Building a SIR model with pyepidemics" title="Direct link to Building a SIR model with pyepidemics">​</a></h3><p>This section is detailed in this <a href="https://ekimetrics.github.io/pyepidemics/tutorials/quickstart/" target="_blank" rel="noopener noreferrer">tutorial</a> which is also available directly on <a href="https://colab.research.google.com/github/ekimetrics/pyepidemics/blob/master/docs/tutorials/quickstart.ipynb" target="_blank" rel="noopener noreferrer">Colab</a>. </p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="using-the-bank-of-models">Using the bank of models<a href="#using-the-bank-of-models" class="hash-link" aria-label="Direct link to Using the bank of models" title="Direct link to Using the bank of models">​</a></h4><p>As the SIR model is a standard model, you can find an already coded version in the model bank. We will learn in the next section how this abstraction is built to allow you to add details in the modeling. </p><p>With pyepidemics:</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> pyepidemics</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">models </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> SIR</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">N </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">1000</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)"># Thousand persons</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">beta </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">3</span><span class="token operator">/</span><span class="token number">4</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)"># One person contaminates 3/4 person per day</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">gamma </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">1</span><span class="token operator">/</span><span class="token number">4</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)"># One person stay infected for 4 days</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sir </span><span class="token operator">=</span><span class="token plain"> SIR</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">N</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">beta</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">gamma</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>It is then possible to solve the system of differential equations simply with the method <code>.solve()</code> (more parameters are available, see the tutorial quoted above : </p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">states </span><span class="token operator">=</span><span class="token plain"> sir</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">solve</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">states</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">show</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">plotly </span><span class="token operator">=</span><span class="token plain"> </span><span class="token boolean">False</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>What is commonly called an epidemic &quot;wave&quot; is observed. </p><div align="center"><p><img loading="lazy" src="/assets/images/sir3-484b2d98bfdbc017ca838656ab9f087e.png" width="1104" height="310" class="img_ev3q"></p></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="reimplementing-the-sir-model">Reimplementing the SIR model<a href="#reimplementing-the-sir-model" class="hash-link" aria-label="Direct link to Reimplementing the SIR model" title="Direct link to Reimplementing the SIR model">​</a></h4><p>Let&#x27;s now go into the internal workings of this abstraction to reimplement its operation in a few lines of code. Concretely we build a graph between the different states by detailing the transitions. Pyepidemics then translates this graph into a system of differential equations in order to solve it. </p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> pyepidemics</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">models </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> CompartmentalModel</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">SIR</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">CompartmentalModel</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">__init__</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">N</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">beta</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">gamma</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)"># Define compartments name and number</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        compartments </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;S&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;I&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;R&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token builtin" style="color:rgb(189, 147, 249)">super</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">__init__</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">compartments</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)"># Parameters</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">N </span><span class="token operator">=</span><span class="token plain"> N </span><span class="token comment" style="color:rgb(98, 114, 164)"># Total population</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">beta </span><span class="token operator">=</span><span class="token plain"> beta </span><span class="token comment" style="color:rgb(98, 114, 164)"># How many person each person infects per day</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">gamma </span><span class="token operator">=</span><span class="token plain"> gamma </span><span class="token comment" style="color:rgb(98, 114, 164)"># Rate of infection, duration = 1/gamma</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)"># Add transition</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">add_transition</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;S&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;I&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">lambda</span><span class="token plain"> y</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">t</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">beta </span><span class="token operator">*</span><span class="token plain"> y</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;S&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> y</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;I&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">/</span><span class="token plain"> self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">N</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">add_transition</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;I&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;R&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">lambda</span><span class="token plain"> y</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">t</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">gamma </span><span class="token operator">*</span><span class="token plain"> y</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;I&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>So it is possible to build any kind of compartmental model with this operation. You can see more complex examples in this <a href="https://ekimetrics.github.io/pyepidemics/tutorials/custom_model/" target="_blank" rel="noopener noreferrer">tutorial</a>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="create-a-realistic-epidemiological-model-for-covid19">Create a realistic epidemiological model for COVID19<a href="#create-a-realistic-epidemiological-model-for-covid19" class="hash-link" aria-label="Direct link to Create a realistic epidemiological model for COVID19" title="Direct link to Create a realistic epidemiological model for COVID19">​</a></h2><p>In the first section we saw how to build a SIR model, however we are far from being able to use this model to simulate an epidemic like COVID19 and for governments to be able to take actions using those analyses. For this we would need to:</p><ul><li>Have a more complete description taking into account the specifics of the disease states</li><li>Take into account the mitigation strategies provided by governments</li><li>Calibrate the model to describe the evolution of the epidemic as closely as possible</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="build-the-right-compartmental-model">Build the right compartmental model<a href="#build-the-right-compartmental-model" class="hash-link" aria-label="Direct link to Build the right compartmental model" title="Direct link to Build the right compartmental model">​</a></h3><p>Indeed, the COVID19 is more specific than simply the 3 SIR states described above. During the year 2020, we used the following compartmental model inspired by the work of the Pasteur Institute and the INSERM (taking into account the different levels of symptoms, the incubation phase, and the passages in hospital or in intensive care)</p><p><img loading="lazy" src="/assets/images/model-fc4e9034f32bad97e1e9c6dbb213cbbd.png" width="1068" height="475" class="img_ev3q"></p><p>You can look in the library at the implementation of the <code>COVID19</code> model to see the implementation (very close to what has been described above for the SIR model, one of the strengths of pyepidemics). </p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="describe-the-mitigation-solutions-implemented-containment-testing">Describe the mitigation solutions implemented (containment, testing)<a href="#describe-the-mitigation-solutions-implemented-containment-testing" class="hash-link" aria-label="Direct link to Describe the mitigation solutions implemented (containment, testing)" title="Direct link to Describe the mitigation solutions implemented (containment, testing)">​</a></h3><p>Some parameters, such as the famous &quot;R0&quot;, have varied enormously during the epidemic depending on behaviors (distancing, masks), policies (testing, lockdowns, vaccination), or variants of the epidemic. Thus, to create a realistic model, we need to take these variations into account.
We will take the example of the first lockdowns to understand how to implement these variations with pyepidemics.   </p><p>Let&#x27;s create an evolution of the parameter <code>R(t)</code> according to the different lockdowns (during the first wave for example)</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> pyepidemics</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">policies</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">utils </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> make_dynamic_fn</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">policies </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token number">3.3</span><span class="token operator">/</span><span class="token number">4</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">1</span><span class="token operator">/</span><span class="token number">4</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">53</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">2</span><span class="token operator">/</span><span class="token number">4</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">80</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">fn </span><span class="token operator">=</span><span class="token plain"> make_dynamic_fn</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">policies</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">sigmoid </span><span class="token operator">=</span><span class="token plain"> </span><span class="token boolean">False</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Create our time-dependent parameter</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">beta </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">lambda</span><span class="token plain"> y</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">t </span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> fn</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">t</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Visualize policies</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">x </span><span class="token operator">=</span><span class="token plain"> np</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">linspace</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">100</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">y </span><span class="token operator">=</span><span class="token plain"> np</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">vectorize</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">fn</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">x</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">plt</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">figure</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">figsize </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">15</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">4</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">plt</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">plot</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">x</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">y</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">plt</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">show</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" src="/assets/images/policies-525fb1e91b67b9b2e61dbd330609b252.png" width="1092" height="315" class="img_ev3q"></p><p>And that&#x27;s it! We can use this time-dependent parameter like we used a constant before. To see more complete examples and results, you can redirect to this <a href="https://ekimetrics.github.io/pyepidemics/tutorials/beyond-sir/" target="_blank" rel="noopener noreferrer">tutorial</a>.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="find-the-most-appropriate-parameters-for-calibration">Find the most appropriate parameters for calibration<a href="#find-the-most-appropriate-parameters-for-calibration" class="hash-link" aria-label="Direct link to Find the most appropriate parameters for calibration" title="Direct link to Find the most appropriate parameters for calibration">​</a></h3><p>Finally, in the previous example, as in those before, we chose arbitrarily the values of the different probabilities and transition times. But these are precisely what epidemiologists want to estimate. How does this work? Simply by testing different parameters until the solution of the compartmental model matches as much as possible the real evolution of the epidemic. Of course, we are not going to test all the combinations but rather : </p><ul><li>Start with an a priori on the different parameter values from the most recent epidemiological studies </li><li>Use a Bayesian optimization algorithm to go through the parameter space efficiently without having to calculate everything. </li></ul><p>These two methods are easy to implement with pyepidemics if we have a pyepimemics model with a <code>.reset()</code> method that recreates a compartmental model with the new set of parameters. First we create a parameter space to explore:</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">space </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;beta_low&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">0.01</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">0.4</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;beta_high&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">0.6</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">1.5</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;I0&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">100</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;recovery_rate_asymptomatic&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">1</span><span class="token operator">/</span><span class="token number">8</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">1</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;recovery_rate_mild&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">1</span><span class="token operator">/</span><span class="token number">8</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">1</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;death_rate_hospital&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">0.006</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">0.02</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;death_rate_icu&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">0.006</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">0.02</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;recovery_rate_icu&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">0.02</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">0.08</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;recovery_rate_hospital&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">0.02</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">0.08</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Then we will simply use the method <code>.fit()</code> by giving as input a <em>dataframe</em> with the real values of the epidemic for the compartments for which we would have succeeded in obtaining data (in general the deaths and the hospital stays which are the most reliable). </p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">model</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">fit</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    cases</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;D&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;H&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;ICU&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    space</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    n </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">200</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    early_stopping </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">100</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This step is not easy, takes time and often also requires iterations to change the definition of the compartmental model. But once solved it is what allows epidemiologists to follow the dynamics of the pandemic. </p><p>More details on calibration are available in this <a href="https://ekimetrics.github.io/pyepidemics/tutorials/calibration/" target="_blank" rel="noopener noreferrer">tutorial</a>. </p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">​</a></h2><p>With this article we could introduce you to our epidemiological modeling library pyepidemics - simple modeling, flexible compartmental models, calibration, dynamic parameters, etc... The details of the different features are available in the library documentation. </p><p>As previously mentioned, this library is still under experimental development, we are still using it to model the 5th wave of the epidemic, in particular by adding compartments for vaccination - we will write an article on the modeling in the coming months. Do not hesitate to contribute to democratize this discipline to the Data Science community. </p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="references">References<a href="#references" class="hash-link" aria-label="Direct link to References" title="Direct link to References">​</a></h2><p>These few references helped us greatly during the development of the library</p><ul><li><a href="https://towardsdatascience.com/infectious-disease-modelling-beyond-the-basic-sir-model-216369c584c4" target="_blank" rel="noopener noreferrer">Infectious Disease Modelling: Beyond the Basic SIR Model</a></li><li><a href="https://www.medrxiv.org/content/10.1101/2020.05.08.20095521v1" target="_blank" rel="noopener noreferrer">Expected impact of lockdown in Île-de-France and possible exit strategies</a> - by INSERM</li><li><a href="https://hal-pasteur.archives-ouvertes.fr/pasteur-02548181/document" target="_blank" rel="noopener noreferrer">Estimating the burden of SARS-CoV-2 in France</a> - by Institut Pasteur</li></ul></div></div><footer class="row docusaurus-mt-lg blogPostFooterDetailsFull_mRVl"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/open-source">Open-Source</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/epidemiology">Epidemiology</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/bayesian">Bayesian</a></li></ul></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/blog/2021/12/22/cjc"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">Customer Journey Clustering - How to use sequential modeling techniques to handle customer journey data</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/blog/2021/11/03/tsp"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">Solving the Traveling Salesman Problem with Reinforcement Learning</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#pyepidemics" class="table-of-contents__link toc-highlight">Pyepidemics</a><ul><li><a href="#context" class="table-of-contents__link toc-highlight">Context</a></li><li><a href="#introduction-to-pyepidemics" class="table-of-contents__link toc-highlight">Introduction to Pyepidemics</a></li><li><a href="#installation" class="table-of-contents__link toc-highlight">Installation</a></li></ul></li><li><a href="#introduction-to-epidemiological-modeling-in-python" class="table-of-contents__link toc-highlight">Introduction to epidemiological modeling in Python</a><ul><li><a href="#compartmental-models" class="table-of-contents__link toc-highlight">Compartmental models</a></li><li><a href="#building-a-sir-model-with-pyepidemics" class="table-of-contents__link toc-highlight">Building a SIR model with pyepidemics</a></li></ul></li><li><a href="#create-a-realistic-epidemiological-model-for-covid19" class="table-of-contents__link toc-highlight">Create a realistic epidemiological model for COVID19</a><ul><li><a href="#build-the-right-compartmental-model" class="table-of-contents__link toc-highlight">Build the right compartmental model</a></li><li><a href="#describe-the-mitigation-solutions-implemented-containment-testing" class="table-of-contents__link toc-highlight">Describe the mitigation solutions implemented (containment, testing)</a></li><li><a href="#find-the-most-appropriate-parameters-for-calibration" class="table-of-contents__link toc-highlight">Find the most appropriate parameters for calibration</a></li></ul></li><li><a href="#conclusion" class="table-of-contents__link toc-highlight">Conclusion</a></li><li><a href="#references" class="table-of-contents__link toc-highlight">References</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">About us</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://ekimetrics.com/who-we-are/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Who we are ?</a></li><li class="footer__item"><a href="https://ekimetrics.com/our-team/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Our team</a></li><li class="footer__item"><a href="https://ekimetrics.us13.list-manage.com/subscribe?u=85b8ce42caa0a733e98233bc4&amp;id=6355d0a6f9" target="_blank" rel="noopener noreferrer" class="footer__link-item">Subscribe to our newsletter</a></li></ul></div><div class="col footer__col"><div class="footer__title">Find us</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/ekimetrics" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://ekimetrics.com/careers/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Careers<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.welcometothejungle.com/fr/companies/ekimetrics" target="_blank" rel="noopener noreferrer" class="footer__link-item">Eki on Welcome to the jungle<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Contact</div><ul class="footer__items clean-list"><li class="footer__item"><a href="mailto:inno@ekimetrics.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Get in touch with our teams<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div></div></footer></div>
<script src="/assets/js/runtime~main.94bb4230.js"></script>
<script src="/assets/js/main.b4cb8feb.js"></script>
</body>
</html>