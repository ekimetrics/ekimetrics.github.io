<!doctype html>
<html lang="en" dir="ltr" class="plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">Demand Forecasting - Improving Supply Chain operations in uncertain times | Eki.Lab</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://ekimetrics.github.io/blog/2022/02/22/demand_forecasting_supply"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Demand Forecasting - Improving Supply Chain operations in uncertain times | Eki.Lab"><meta data-rh="true" name="description" content="Learn in this article how we industrialized a solution for warehouse demand forecasting to help Operations managers better allocate resources for more than 20.000 referenced products"><meta data-rh="true" property="og:description" content="Learn in this article how we industrialized a solution for warehouse demand forecasting to help Operations managers better allocate resources for more than 20.000 referenced products"><meta data-rh="true" name="keywords" content="Data Science,EkiLab,Ekimetrics,Eki.Lab,Eki,Machine Learning,Artificial Intelligence,Supply Chain,Streamlit,Demand Forecasting,LightGBM,Data Science for business"><meta data-rh="true" property="og:image" content="/img/blog/supply_warehouse.png"><meta data-rh="true" name="twitter:image" content="/img/blog/supply_warehouse.png"><meta data-rh="true" name="twitter:image:alt" content="Image for Demand Forecasting - Improving Supply Chain operations in uncertain times"><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://ekimetrics.github.io/blog/2022/02/22/demand_forecasting_supply"><link data-rh="true" rel="alternate" href="https://ekimetrics.github.io/blog/2022/02/22/demand_forecasting_supply" hreflang="en"><link data-rh="true" rel="alternate" href="https://ekimetrics.github.io/blog/2022/02/22/demand_forecasting_supply" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Eki.Lab RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Eki.Lab Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-124520099-9","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script><link rel="stylesheet" href="/assets/css/styles.73e9da0c.css">
<link rel="preload" href="/assets/js/runtime~main.5b4369f6.js" as="script">
<link rel="preload" href="/assets/js/main.e05eff0e.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><b class="navbar__title text--truncate">Eki.Lab</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/docs/">About us</a><a class="navbar__item navbar__link" href="/resources/">Resources</a><a href="https://ekimetrics.com/fr/carrieres/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Careers</a></div><div class="navbar__items navbar__items--right"><a href="https://ekimetrics.com/fr/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Ekimetrics website</a><a href="mailto:inno@ekimetrics.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Contact us!<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="searchBox_ZlJk"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 blog-wrapper"><div class="container container-wide margin-vert--lg"><div class="row"><div class="col col--2"></div><main class="col col--8"><article><header><h1 class="margin-bottom--sm blogPostTitle_uMeh">Demand Forecasting - Improving Supply Chain operations in uncertain times</h1><div class="margin-vert--md"><p>Learn in this article how we industrialized a solution for warehouse demand forecasting to help Operations managers better allocate resources for more than 20.000 referenced products</p><time datetime="2022-02-22T00:00:00.000Z" class="blogPostDate_Ocfp">February<!-- --> <!-- -->22<!-- -->, <!-- -->2022<!-- --> <!-- --> · <!-- -->8<!-- --> min read</time></div><div class="avatar margin-vert--md"><div class="avatar__intro"><h4 class="avatar__name">Written by <a href="mailto:inno@ekimetrics.com" target="_blank" rel="noreferrer noopener">Alexis Cruveiller</a></h4><small class="avatar__subtitle"></small></div></div><div class="margin-vert--md"><img class="img-blog-header" src="/img/blog/supply_warehouse.png"></div></header><section class="markdown blog-article-custom"><p>Demand forecasting has become a trendy topic since the COVID pandemic. It has challenged companies&#x27; Supply Chain operations and highlighted that most companies could improve their supply chain management. Therefore, generating demand for enhanced forecasting capabilities.</p><p>In 2021, we had the opportunity to work with a French pioneer in manufacturing on this topic. We had to industrialize a solution for warehouse demand forecasting for more than 20,000 referenced products to improve overall Supply Chain performance. At the time, the existing solution was deprecated and not handling correctly erratic sales. </p><p>Therefore, we had to create a new, more robust algorithm to help Operational Managers better allocate resources. This latter solution enabled a 60% accuracy improvement and was integrated into Operational Managers processes for decision making.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="an-important-asset-for-supply-chain-transformation">An important asset for Supply Chain transformation<a href="#an-important-asset-for-supply-chain-transformation" class="hash-link" aria-label="Direct link to An important asset for Supply Chain transformation" title="Direct link to An important asset for Supply Chain transformation">​</a></h2><p>Demand forecasting has an impact on different levers:</p><ul><li><p><em>Stock Management</em>: forecasting can drastically improve Inventory Management. Underproducing means losing revenue opportunities, whilst overproducing means selling your products cheaper or facing additional storage costs. Furthermore, with the return of activity after the first lockdown, suppliers are now bearing the brunt of building sites recovery, causing delays and creating supply instability.</p></li><li><p><em>Resource allocation</em>: defining the best number of weekly working hours is not an easy task for operational managers, and anticipation is key to achieving optimal throughput.</p></li><li><p><em>Product strategy</em>: demand forecasting also supports better handling of specific trends and product lifecycle. Hence, it helps warehouses anticipate and meet high demands, detect declined products and help marketing teams better understand customers’ needs.</p></li></ul><p>Most importantly, Demand Forecasting has not become a hot topic because of the pandemic. Nevertheless, it brought to light the need of transforming Supply Chains and adapt to unexpected events. Indeed, global warming is increasing the frequency of natural disasters, which will test Supply Chains resilience (<em>have you heard of our AI4S offer?</em>).</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-build-demand-forecasting-tool">How to build Demand Forecasting tool<a href="#how-to-build-demand-forecasting-tool" class="hash-link" aria-label="Direct link to How to build Demand Forecasting tool" title="Direct link to How to build Demand Forecasting tool">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="what-are-we-trying-to-solve">What are we trying to solve?<a href="#what-are-we-trying-to-solve" class="hash-link" aria-label="Direct link to What are we trying to solve?" title="Direct link to What are we trying to solve?">​</a></h3><p>Framing the problem is key to ensuring Data Scientists go in the right direction. When discussing with Supply Chain managers, we understood they wanted to reduce their costs. Thus, improving resource allocation was the best lever to achieve their need. Clearly stating the business need allowed us to understand the problem and impacted the solution implementation.</p><p><img loading="lazy" alt="Business Problem" src="/assets/images/img1_v2-fa995a6196770755daac31f688954430.png" width="1449" height="616" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="build-and-assess-model">Build and assess model<a href="#build-and-assess-model" class="hash-link" aria-label="Direct link to Build and assess model" title="Direct link to Build and assess model">​</a></h3><p>Because of the high number of products and their associated nomenclature, we used a decision tree algorithm (LightGBM). The business required a reliable mid-term forecasting tool within a short time lap and with limited team size, justifying the choice of a well-known and high-performance algorithm. Our solution is a 3-week forecasting tool with daily updates for all referenced products.</p><p>The ML pipeline we have built for this project is similar to many existing ones. Therefore, we will focus on how the business problem framed our solution. Still, this project was an opportunity for us to use <a href="https://kedro.readthedocs.io/en/stable/index.html" target="_blank" rel="noopener noreferrer">Kedro</a>, which enabled Data Science teams to set up their ML data pipelines. Kedro had the advantage of visualizing your pipeline and structuring our code to ensure maintainability and reproducibility.</p><p><img loading="lazy" alt="Kedro Pipeline" src="/assets/images/kedro_2-dd195cb1648e4b21ef03025f838dec25.png" width="1843" height="851" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="modelling-target">Modelling target<a href="#modelling-target" class="hash-link" aria-label="Direct link to Modelling target" title="Direct link to Modelling target">​</a></h4><p>We want to optimize warehouse working hours to ensure clients satisfaction by delivering stores on time.</p><p>What requires the most operational effort? Our client uses single order picking methods - meaning that pickers work on one order at a time. Thus, it is more time-consuming for a picker to prepare two orders of the same product rather than picking two times the product for the same order. Consequently, we focused on predicting the number of orders rather than the quantity ordered.</p><p>NB: depending on how your supply chain operates, the modelling output would differ.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="modelling-granularity">Modelling granularity<a href="#modelling-granularity" class="hash-link" aria-label="Direct link to Modelling granularity" title="Direct link to Modelling granularity">​</a></h4><p>Our client had a complex product hierarchy, meaning products can be aggregated at different levels. Demand forecasting at a product level gives higher flexibility when used on various business use cases, albeit not being the optimal solution for each one. Therefore, we aggregated ordered products at a higher granularity, to find the best balance between modelling accuracy and business need.</p><p>Working at a product level when having more than 20,000 products can be painful:</p><ul><li><p>it means working with sparse time series (which isn’t trivial when using decision trees)</p></li><li><p>manufacturing companies often deal with products turnover (because products are frequently improved), meaning you may lose the thread of which product is getting improved.</p></li></ul><p>Therefore, to optimize resource allocation, it was relevant to build a forecasting tool at a product category level, to combine similar products and avoid dealing with product’s turnover. Analyzing sparsity at different granularities also helped us define the best modelling level.</p><p><img loading="lazy" alt="Histogram" src="/assets/images/img3-4c20db5d27cd65a1dfd1a1d6e72e841a.png" width="985" height="280" class="img_ev3q"></p><div align="center"> Distribution of products&#x27; sparsity (e.g. percentage of zeroes in orders). It is clear that most products have more than 90% of zeroes.</div><br><p>Important learnings here were:</p><ol><li>Sparse time series are hard to predict</li><li><strong>It is best to go for a solution where the unit (time x product x localization) of forecasting matches the unit of decision making</strong></li></ol><p><img loading="lazy" alt="Predictions" src="/assets/images/img4-e049c7e24e00a60d493aa7890847c7c2.png" width="1190" height="295" class="img_ev3q"></p><div align="center"> We see how the coronavirus outbreak impacted the activity of our client during the first containment. Predicting this period is pretentious, but how can it help us reduce uncertainty in the future?</div><br><h4 class="anchor anchorWithStickyNavbar_LWe7" id="modelling-loss-function">Modelling loss function<a href="#modelling-loss-function" class="hash-link" aria-label="Direct link to Modelling loss function" title="Direct link to Modelling loss function">​</a></h4><p>Modelling errors assess algorithms performance and help choose the model we will industrialize to better impact operations. However, when deploying a solution, we want to measure an error that reflects the current problem. Demand forecasting is not exclusively about being accurate on future demands but also about improving operations. Therefore, customizing errors metrics is a key part of machine learning development, allowing us to define the right balance between product demand (model accuracy) and product average preparation time. (focus on products with high preparation time).</p><p>We implemented the Weighted Root Mean Squared Scaled Error, using product average revenues in the last 6 months and product average preparation time.</p><p><img loading="lazy" alt="Prep Time" src="/assets/images/table_2_v2-a76fe9d47f686003856484e216f304d2.png" width="2759" height="974" class="img_ev3q"></p><div align="center"> Product B weekly preparation time is 400 min vs 200 min for Product A. Thus, higher accuracy on Product B is needed to reflect the operational needs.</div><br><h3 class="anchor anchorWithStickyNavbar_LWe7" id="evaluate-business-outcome">Evaluate business outcome<a href="#evaluate-business-outcome" class="hash-link" aria-label="Direct link to Evaluate business outcome" title="Direct link to Evaluate business outcome">​</a></h3><p>Because predictions are not always (never) linked to business outcomes, it is important to differentiate outputs (what are the predictions?) from outcomes (how will it impact the business?). This part was not implemented during the project, but we will briefly explain the methodology to give you a flavour on how it could be done.</p><p>Model accuracy is a technical metric, so to quantify our ML model impact on operations we also need to estimate the predicted number of working hours. Comparing the number of predicted working hours with the realized working hours would allow measuring how much the algorithm is reducing costs.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="create-a-sustainable-solution">Create a sustainable solution<a href="#create-a-sustainable-solution" class="hash-link" aria-label="Direct link to Create a sustainable solution" title="Direct link to Create a sustainable solution">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="implement-a-web-app">Implement a web app<a href="#implement-a-web-app" class="hash-link" aria-label="Direct link to Implement a web app" title="Direct link to Implement a web app">​</a></h3><p>A core part of our solution was to implement an easy-to-use application for operations managers. It helped them access predictions in real-time, assess model past performance and define the optimal working hours needed. We used Streamlit for its ease of use and ability to create fast and intuitive applications whenever we are short on time. Consequently, we created a usable solution by communicating predictions, demand, and past errors at different granularities.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="add-a-feedback-loop">Add a feedback loop<a href="#add-a-feedback-loop" class="hash-link" aria-label="Direct link to Add a feedback loop" title="Direct link to Add a feedback loop">​</a></h3><p>Finally, we created a feedback loop to enable the team to maintain, improve and sustain the solution. This concept is well explained in <em>Prediction Machines: The Simple Economics of Artificial Intelligence</em>, a book about what AI means from an economist perspective. They introduce a great concept they have named the Anatomy of a Task.</p><p><img loading="lazy" alt="Anatomy of a Task" src="/assets/images/img5_v3-2cba57b6da74cb303124b1246f9d2b62.png" width="1175" height="757" class="img_ev3q"></p><p>Predictions mainly impact people’s judgement and decisions taken for action. It implies that algorithms are rather helpful for decision-makers than make the actual choice. In our situation, the predictions enable operational managers to take action on the number of pickers needed in the coming weeks. Improving modelling should help these managers be more accurate in their decision process. Giving Data Science teams feedback on how modelling affected outcomes is the added value.</p><p>Consequently, we decided to create a clear feedback process with the operational managers. We made sure we could improve our forecasting model in a business manner rather than a statistical one. Our model not being perfect, the operational team’s feedback on how our predictions are impacting their daily work will help us improve our algorithms and create a sustainable solution.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="concluding-and-food-for-thought">Concluding and food for thought<a href="#concluding-and-food-for-thought" class="hash-link" aria-label="Direct link to Concluding and food for thought" title="Direct link to Concluding and food for thought">​</a></h2><p>New challenges will arise, and data will help supply chains tackle them. Creating a data-driven culture is key to useful and sustainable solutions. Creating state-of-the-art models is great, but a successful data science transformation is about creating impactful projects and delivering value throughout.</p><p>Thanks to this project, we learnt that:</p><ul><li><p>Demand Forecasting is a great entry to improve Supply Chain operations, but the impact will be limited if not embedded in the full Supply Chain environment.</p></li><li><p>Demand forecasting is not about predicting the future, but about how data helps improve communication between teams.</p></li></ul></section></article><div class="margin-vert--xl"><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/blog/2022/02/28/newsletter_Feb-2022"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">Newsletter for February 2022</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/blog/2022/02/09/ekimetrics_implements_data_mesh"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">Ekimetrics implements Data Mesh. Here is why, and why you should join us</div></a></nav></div></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#an-important-asset-for-supply-chain-transformation" class="table-of-contents__link toc-highlight">An important asset for Supply Chain transformation</a></li><li><a href="#how-to-build-demand-forecasting-tool" class="table-of-contents__link toc-highlight">How to build Demand Forecasting tool</a><ul><li><a href="#what-are-we-trying-to-solve" class="table-of-contents__link toc-highlight">What are we trying to solve?</a></li><li><a href="#build-and-assess-model" class="table-of-contents__link toc-highlight">Build and assess model</a></li><li><a href="#evaluate-business-outcome" class="table-of-contents__link toc-highlight">Evaluate business outcome</a></li></ul></li><li><a href="#create-a-sustainable-solution" class="table-of-contents__link toc-highlight">Create a sustainable solution</a><ul><li><a href="#implement-a-web-app" class="table-of-contents__link toc-highlight">Implement a web app</a></li><li><a href="#add-a-feedback-loop" class="table-of-contents__link toc-highlight">Add a feedback loop</a></li></ul></li><li><a href="#concluding-and-food-for-thought" class="table-of-contents__link toc-highlight">Concluding and food for thought</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">About us</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://ekimetrics.com/who-we-are/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Who we are ?</a></li><li class="footer__item"><a href="https://ekimetrics.com/our-team/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Our team</a></li><li class="footer__item"><a href="https://ekimetrics.us13.list-manage.com/subscribe?u=85b8ce42caa0a733e98233bc4&amp;id=6355d0a6f9" target="_blank" rel="noopener noreferrer" class="footer__link-item">Subscribe to our newsletter</a></li></ul></div><div class="col footer__col"><div class="footer__title">Find us</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/ekimetrics" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://ekimetrics.com/careers/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Careers<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.welcometothejungle.com/fr/companies/ekimetrics" target="_blank" rel="noopener noreferrer" class="footer__link-item">Eki on Welcome to the jungle<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Contact</div><ul class="footer__items clean-list"><li class="footer__item"><a href="mailto:inno@ekimetrics.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Get in touch with our teams<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div></div></footer></div>
<script src="/assets/js/runtime~main.5b4369f6.js"></script>
<script src="/assets/js/main.e05eff0e.js"></script>
</body>
</html>