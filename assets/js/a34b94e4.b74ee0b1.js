"use strict";(self.webpackChunkeki_lab=self.webpackChunkeki_lab||[]).push([[4949],{3905:(e,a,t)=>{t.d(a,{Zo:()=>p,kt:()=>u});var n=t(67294);function s(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function i(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function r(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?i(Object(t),!0).forEach((function(a){s(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function l(e,a){if(null==e)return{};var t,n,s=function(e,a){if(null==e)return{};var t,n,s={},i=Object.keys(e);for(n=0;n<i.length;n++)t=i[n],a.indexOf(t)>=0||(s[t]=e[t]);return s}(e,a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(s[t]=e[t])}return s}var m=n.createContext({}),o=function(e){var a=n.useContext(m),t=a;return e&&(t="function"==typeof e?e(a):r(r({},a),e)),t},p=function(e){var a=o(e.components);return n.createElement(m.Provider,{value:a},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var a=e.children;return n.createElement(n.Fragment,{},a)}},h=n.forwardRef((function(e,a){var t=e.components,s=e.mdxType,i=e.originalType,m=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),c=o(t),h=s,u=c["".concat(m,".").concat(h)]||c[h]||d[h]||i;return t?n.createElement(u,r(r({ref:a},p),{},{components:t})):n.createElement(u,r({ref:a},p))}));function u(e,a){var t=arguments,s=a&&a.mdxType;if("string"==typeof e||s){var i=t.length,r=new Array(i);r[0]=h;var l={};for(var m in a)hasOwnProperty.call(a,m)&&(l[m]=a[m]);l.originalType=e,l[c]="string"==typeof e?e:s,r[1]=l;for(var o=2;o<i;o++)r[o]=t[o];return n.createElement.apply(null,r)}return n.createElement.apply(null,t)}h.displayName="MDXCreateElement"},7245:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>m,contentTitle:()=>r,default:()=>d,frontMatter:()=>i,metadata:()=>l,toc:()=>o});var n=t(87462),s=(t(67294),t(3905));const i={slug:"Causal_Inference",title:"MMM Opportunities of Using Causal Inference",authors:["toni.fortora"],header_image_url:"img/blog/Causal_Inference_header.jpg",image:"img/blog/Causal_Inference_header.jpg",tags:["Causal AI","Explainable Marketing","MMM"],draft:!1,description:"Integrating causal inference into Marketing Mix Models transforms correlation-based marketing analytics into powerful decision engines that reveal the true impact of campaigns.",keywords:["Marketing Mix Modeling","Causal inference","Indirect effect","Attribution modeling","Marketing ROI causality","Channel interaction effects","Confounding variables marketing","DoWhy","Counterfactuals"]},r=void 0,l={permalink:"/blog/Causal_Inference",source:"@site/blog/2025-03-31-Causal_Inference.md",title:"MMM Opportunities of Using Causal Inference",description:"Integrating causal inference into Marketing Mix Models transforms correlation-based marketing analytics into powerful decision engines that reveal the true impact of campaigns.",date:"2025-03-31T00:00:00.000Z",formattedDate:"March 31, 2025",tags:[{label:"Causal AI",permalink:"/blog/tags/causal-ai"},{label:"Explainable Marketing",permalink:"/blog/tags/explainable-marketing"},{label:"MMM",permalink:"/blog/tags/mmm"}],readingTime:9.25,hasTruncateMarker:!0,authors:[{name:"Toni Fortora",title:"Senior Consultant",url:"https://www.linkedin.com/in/toni-fortora/",imageURL:"/img/authors/toni_fortora.jpg",key:"toni.fortora"}],frontMatter:{slug:"Causal_Inference",title:"MMM Opportunities of Using Causal Inference",authors:["toni.fortora"],header_image_url:"img/blog/Causal_Inference_header.jpg",image:"img/blog/Causal_Inference_header.jpg",tags:["Causal AI","Explainable Marketing","MMM"],draft:!1,description:"Integrating causal inference into Marketing Mix Models transforms correlation-based marketing analytics into powerful decision engines that reveal the true impact of campaigns.",keywords:["Marketing Mix Modeling","Causal inference","Indirect effect","Attribution modeling","Marketing ROI causality","Channel interaction effects","Confounding variables marketing","DoWhy","Counterfactuals"]},nextItem:{title:"How We Created Our First Talk-to-Data (Text-to-SQL) Application in Production",permalink:"/blog/Talk_to_Data_App"}},m={authorsImageUrls:[void 0]},o=[{value:"The Causal Nature of Marketing ROI",id:"the-causal-nature-of-marketing-roi",level:2},{value:"The Independence Assumption Bait",id:"the-independence-assumption-bait",level:2},{value:"Challenge 1: Confounding Variables",id:"challenge-1-confounding-variables",level:3},{value:"Challenge 2: Channel Interactions and Spillover Effects",id:"challenge-2-channel-interactions-and-spillover-effects",level:3},{value:"Challenge 3: Non-Random Media Allocation",id:"challenge-3-non-random-media-allocation",level:3},{value:"Moving Toward Causal Solutions",id:"moving-toward-causal-solutions",level:2},{value:"MMM Preprocessing",id:"mmm-preprocessing",level:3},{value:"Building a Causal Graph",id:"building-a-causal-graph",level:3},{value:"Validating Relationships",id:"validating-relationships",level:3},{value:"Quantifying Causal Effects",id:"quantifying-causal-effects",level:3},{value:"Ensuring Robustness",id:"ensuring-robustness",level:3},{value:"Conclusion",id:"conclusion",level:2},{value:"Glossary",id:"glossary",level:2}],p={toc:o},c="wrapper";function d(e){let{components:a,...i}=e;return(0,s.kt)(c,(0,n.Z)({},p,i,{components:a,mdxType:"MDXLayout"}),(0,s.kt)("div",{align:"justify"},(0,s.kt)("h1",{id:"marketing-mix-modeling-opportunities-of-using-causal-inference"},"Marketing Mix Modeling: Opportunities of Using Causal Inference"),(0,s.kt)("p",null,"Marketing Mix Modeling (MMM) has served as a foundational methodology for quantifying marketing effectiveness for decades. Its enduring relevance stems from its ability to provide aggregate insights across channels without relying on individual-level tracking. In today's privacy-centric landscape, this advantage has become even more valuable."),(0,s.kt)("p",null,"However, as marketing ecosystems grow increasingly complex, traditional MMM frameworks face new challenges in capturing the true dynamics of modern campaigns. This isn't to suggest that classical MMM approaches are obsolete\u2014quite the contrary. Instead, we propose that integrating causal inference methodologies can enhance and extend these proven frameworks, addressing their limitations while preserving their strengths."),(0,s.kt)("h2",{id:"the-causal-nature-of-marketing-roi"},"The Causal Nature of Marketing ROI"),(0,s.kt)("p",null,"When any ad designer or CMO asks, \"What was the return on investment of our TV campaign?\", they are not simply inquiring about correlation \u2013 they're asking a causal question. In statistical terms, they're seeking to measure the effect of TV advertising spend on sales. This is the so-called Average Treatment Effect (ATE) in the causal inference field of study. More specifically, they might want to understand this effect for:"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},"Specific time periods or conditions"),(0,s.kt)("li",{parentName:"ul"},"Weeks or campaigns")),(0,s.kt)("p",null,"All of these questions are trying to explain the true incremental impact of marketing activities on business outcomes."),(0,s.kt)("p",null,"Traditional MMM approaches typically employ regression techniques to model the relationship between marketing activities and business outcomes. These models have delivered substantial value by:"),(0,s.kt)("ol",null,(0,s.kt)("li",{parentName:"ol"},(0,s.kt)("strong",{parentName:"li"},"Quantifying Channel Contributions"),": Estimating the impact of different marketing channels on sales or other KPIs"),(0,s.kt)("li",{parentName:"ol"},(0,s.kt)("strong",{parentName:"li"},"Optimizing Budget Allocation"),": Providing guidance on how to distribute marketing investments"),(0,s.kt)("li",{parentName:"ol"},(0,s.kt)("strong",{parentName:"li"},"Forecasting Outcomes"),": Predicting the likely impact of planned marketing activities")),(0,s.kt)("p",null,"These capabilities remain valuable, and the established MMM ecosystem offers robust tools for addressing fundamental marketing measurement questions. However, classical approaches often make simplifying assumptions that can limit their accuracy in certain contexts."),(0,s.kt)("h2",{id:"the-independence-assumption-bait"},"The Independence Assumption Bait"),(0,s.kt)("p",null,"While traditional regression models might seem sufficient when input variables are independent, real-world marketing data rarely satisfies this condition. Marketing plans are typically optimized to maximize sales, creating inherent correlations between channels and activities. This interdependence introduces several critical biases:"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("strong",{parentName:"li"},"Selection Bias"),": Advertisers naturally allocate more budget to channels that historically perform well, creating a self-fulfilling prophecy in the data."),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("strong",{parentName:"li"},"Temporal Confounding"),": Seasonal effects and marketing calendar events influence both advertising decisions and sales outcomes."),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("strong",{parentName:"li"},"Channel Interaction Effects"),": Marketing channels don't operate in isolation but influence and reinforce each other, creating complex causal pathways.")),(0,s.kt)("p",null,"Rather than replacing traditional MMM, causal inference methodologies can be integrated to address specific limitations while building upon the existing foundation. This integration helps solve several persistent challenges:"),(0,s.kt)("h3",{id:"challenge-1-confounding-variables"},"Challenge 1: Confounding Variables"),(0,s.kt)("p",null,"Classical MMM struggles when unobserved factors influence both marketing decisions and outcomes. For example, a company might increase TV advertising during periods of expected high demand (holidays), making it difficult to disentangle the true impact of advertising from the seasonal effect."),(0,s.kt)("p",null,"Causal inference explicitly models these confounding relationships:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-python"},"# Traditional approach might look like:\nimport statsmodels.api as sm\n\n# Simplified regression model treating all variables as independent\nmodel = sm.OLS(sales, [tv_spend, digital_spend, search_spend, email_spend, seasonality]).fit()\n\n# Causal approach explicitly models the confounding structure:\nfrom dowhy import CausalModel\nimport networkx as nx\n\n# Create a graph showing both direct effects and confounding relationships\ng = nx.DiGraph()\n\n# Add nodes for all variables\ng.add_nodes_from(['TV_Spend', 'Digital_Spend', 'Search_Spend', 'Email_Spend', 'Seasonality', 'Sales'])\n\n# Add direct effects on sales\ng.add_edges_from([\n    ('TV_Spend', 'Sales'),\n    ('Digital_Spend', 'Sales'),\n    ('Search_Spend', 'Sales'),\n    ('Email_Spend', 'Sales')\n])\n\n# Add confounding relationships (seasonality affects both marketing and sales)\ng.add_edges_from([\n    ('Seasonality', 'TV_Spend'),\n    ('Seasonality', 'Digital_Spend'),\n    ('Seasonality', 'Sales')\n])\n\n# Add channel interaction effects (TV drives search behavior)\ng.add_edges_from([\n    ('TV_Spend', 'Search_Spend')\n])\n\n# Create causal model for a specific treatment (TV_Spend in this example)\ncausal_model = CausalModel(\n    data=df,\n    treatment='TV_Spend',\n    outcome='Sales',\n    graph=g\n)\n")),(0,s.kt)("p",null,"By explicitly modeling this causal structure, we can obtain unbiased estimates of the true effect of TV advertising, isolated from seasonal influences.")),(0,s.kt)("div",{align:"center"},(0,s.kt)("p",null,"  ",(0,s.kt)("img",{alt:"screenshot-app ",src:t(10556).Z,width:"800",height:"640"}))),(0,s.kt)("div",{align:"justify"},(0,s.kt)("h3",{id:"challenge-2-channel-interactions-and-spillover-effects"},"Challenge 2: Channel Interactions and Spillover Effects"),(0,s.kt)("p",null,"Traditional models often treat marketing channels as independent contributors, but modern marketing ecosystems are characterized by complex interactions. TV advertising might boost search volume, social media campaigns might amplify email effectiveness, and so on."),(0,s.kt)("p",null,"Causal modeling allows us to represent these dependencies mathematically:"),(0,s.kt)("p",null,(0,s.kt)("span",{parentName:"p",className:"math math-inline"},(0,s.kt)("span",{parentName:"span",className:"katex"},(0,s.kt)("span",{parentName:"span",className:"katex-mathml"},(0,s.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,s.kt)("semantics",{parentName:"math"},(0,s.kt)("mrow",{parentName:"semantics"},(0,s.kt)("mtext",{parentName:"mrow"},"Sales"),(0,s.kt)("mo",{parentName:"mrow"},"="),(0,s.kt)("mi",{parentName:"mrow"},"f"),(0,s.kt)("mo",{parentName:"mrow",stretchy:"false"},"("),(0,s.kt)("mtext",{parentName:"mrow"},"TV_Spend"),(0,s.kt)("mo",{parentName:"mrow",separator:"true"},","),(0,s.kt)("mtext",{parentName:"mrow"},"Digital_Spend"),(0,s.kt)("mo",{parentName:"mrow",separator:"true"},","),(0,s.kt)("mtext",{parentName:"mrow"},"Search_Spend"),(0,s.kt)("mo",{parentName:"mrow",separator:"true"},","),(0,s.kt)("mtext",{parentName:"mrow"},"Email_Spend"),(0,s.kt)("mo",{parentName:"mrow",stretchy:"false"},")"),(0,s.kt)("mo",{parentName:"mrow"},"+"),(0,s.kt)("mi",{parentName:"mrow"},"g"),(0,s.kt)("mo",{parentName:"mrow",stretchy:"false"},"("),(0,s.kt)("mtext",{parentName:"mrow"},"TV_Spend"),(0,s.kt)("mo",{parentName:"mrow"},"\u2192"),(0,s.kt)("mtext",{parentName:"mrow"},"Search_Spend"),(0,s.kt)("mo",{parentName:"mrow",stretchy:"false"},")")),(0,s.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\text{Sales} = f(\\text{TV\\_Spend}, \\text{Digital\\_Spend}, \\text{Search\\_Spend}, \\text{Email\\_Spend}) + g(\\text{TV\\_Spend} \\rightarrow \\text{Search\\_Spend})")))),(0,s.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,s.kt)("span",{parentName:"span",className:"base"},(0,s.kt)("span",{parentName:"span",className:"strut",style:{height:"0.6944em"}}),(0,s.kt)("span",{parentName:"span",className:"mord text"},(0,s.kt)("span",{parentName:"span",className:"mord"},"Sales")),(0,s.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}),(0,s.kt)("span",{parentName:"span",className:"mrel"},"="),(0,s.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}})),(0,s.kt)("span",{parentName:"span",className:"base"},(0,s.kt)("span",{parentName:"span",className:"strut",style:{height:"1.06em",verticalAlign:"-0.31em"}}),(0,s.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.10764em"}},"f"),(0,s.kt)("span",{parentName:"span",className:"mopen"},"("),(0,s.kt)("span",{parentName:"span",className:"mord text"},(0,s.kt)("span",{parentName:"span",className:"mord"},"TV_Spend")),(0,s.kt)("span",{parentName:"span",className:"mpunct"},","),(0,s.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.1667em"}}),(0,s.kt)("span",{parentName:"span",className:"mord text"},(0,s.kt)("span",{parentName:"span",className:"mord"},"Digital_Spend")),(0,s.kt)("span",{parentName:"span",className:"mpunct"},","),(0,s.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.1667em"}}),(0,s.kt)("span",{parentName:"span",className:"mord text"},(0,s.kt)("span",{parentName:"span",className:"mord"},"Search_Spend")),(0,s.kt)("span",{parentName:"span",className:"mpunct"},","),(0,s.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.1667em"}}),(0,s.kt)("span",{parentName:"span",className:"mord text"},(0,s.kt)("span",{parentName:"span",className:"mord"},"Email_Spend")),(0,s.kt)("span",{parentName:"span",className:"mclose"},")"),(0,s.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222em"}}),(0,s.kt)("span",{parentName:"span",className:"mbin"},"+"),(0,s.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222em"}})),(0,s.kt)("span",{parentName:"span",className:"base"},(0,s.kt)("span",{parentName:"span",className:"strut",style:{height:"1.06em",verticalAlign:"-0.31em"}}),(0,s.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.03588em"}},"g"),(0,s.kt)("span",{parentName:"span",className:"mopen"},"("),(0,s.kt)("span",{parentName:"span",className:"mord text"},(0,s.kt)("span",{parentName:"span",className:"mord"},"TV_Spend")),(0,s.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}),(0,s.kt)("span",{parentName:"span",className:"mrel"},"\u2192"),(0,s.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}})),(0,s.kt)("span",{parentName:"span",className:"base"},(0,s.kt)("span",{parentName:"span",className:"strut",style:{height:"1.06em",verticalAlign:"-0.31em"}}),(0,s.kt)("span",{parentName:"span",className:"mord text"},(0,s.kt)("span",{parentName:"span",className:"mord"},"Search_Spend")),(0,s.kt)("span",{parentName:"span",className:"mclose"},")")))))),(0,s.kt)("p",null,"Where ",(0,s.kt)("span",{parentName:"p",className:"math math-inline"},(0,s.kt)("span",{parentName:"span",className:"katex"},(0,s.kt)("span",{parentName:"span",className:"katex-mathml"},(0,s.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,s.kt)("semantics",{parentName:"math"},(0,s.kt)("mrow",{parentName:"semantics"},(0,s.kt)("mi",{parentName:"mrow"},"g"),(0,s.kt)("mo",{parentName:"mrow",stretchy:"false"},"("),(0,s.kt)("mtext",{parentName:"mrow"},"TV_Spend"),(0,s.kt)("mo",{parentName:"mrow"},"\u2192"),(0,s.kt)("mtext",{parentName:"mrow"},"Search_Spend"),(0,s.kt)("mo",{parentName:"mrow",stretchy:"false"},")")),(0,s.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"g(\\text{TV\\_Spend} \\rightarrow \\text{Search\\_Spend})")))),(0,s.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,s.kt)("span",{parentName:"span",className:"base"},(0,s.kt)("span",{parentName:"span",className:"strut",style:{height:"1.06em",verticalAlign:"-0.31em"}}),(0,s.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.03588em"}},"g"),(0,s.kt)("span",{parentName:"span",className:"mopen"},"("),(0,s.kt)("span",{parentName:"span",className:"mord text"},(0,s.kt)("span",{parentName:"span",className:"mord"},"TV_Spend")),(0,s.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}),(0,s.kt)("span",{parentName:"span",className:"mrel"},"\u2192"),(0,s.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}})),(0,s.kt)("span",{parentName:"span",className:"base"},(0,s.kt)("span",{parentName:"span",className:"strut",style:{height:"1.06em",verticalAlign:"-0.31em"}}),(0,s.kt)("span",{parentName:"span",className:"mord text"},(0,s.kt)("span",{parentName:"span",className:"mord"},"Search_Spend")),(0,s.kt)("span",{parentName:"span",className:"mclose"},")")))))," represents the indirect effect of TV advertising on sales via its influence on search behavior. This captures the reality that when TV campaigns run, they often drive consumers to search for the product or brand online, creating an indirect pathway to conversion. By modeling these pathways explicitly, we can attribute effects more accurately and understand both direct and indirect impacts of each marketing channel."),(0,s.kt)("h3",{id:"challenge-3-non-random-media-allocation"},"Challenge 3: Non-Random Media Allocation"),(0,s.kt)("p",null,"Marketing investments aren't randomly assigned\u2014they're strategically allocated based on past performance, creating a form of selection bias. This can lead to misleading conclusions when using traditional regression approaches."),(0,s.kt)("p",null,"The potential outcomes framework from causal inference helps address this by explicitly considering counterfactuals:"),(0,s.kt)("p",null,(0,s.kt)("span",{parentName:"p",className:"math math-inline"},(0,s.kt)("span",{parentName:"span",className:"katex"},(0,s.kt)("span",{parentName:"span",className:"katex-mathml"},(0,s.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,s.kt)("semantics",{parentName:"math"},(0,s.kt)("mrow",{parentName:"semantics"},(0,s.kt)("mi",{parentName:"mrow"},"\u03c4"),(0,s.kt)("mo",{parentName:"mrow"},"="),(0,s.kt)("mi",{parentName:"mrow"},"E"),(0,s.kt)("mo",{parentName:"mrow",stretchy:"false"},"["),(0,s.kt)("mi",{parentName:"mrow"},"Y"),(0,s.kt)("mo",{parentName:"mrow",stretchy:"false"},"("),(0,s.kt)("mn",{parentName:"mrow"},"1"),(0,s.kt)("mo",{parentName:"mrow",stretchy:"false"},")"),(0,s.kt)("mo",{parentName:"mrow"},"\u2212"),(0,s.kt)("mi",{parentName:"mrow"},"Y"),(0,s.kt)("mo",{parentName:"mrow",stretchy:"false"},"("),(0,s.kt)("mn",{parentName:"mrow"},"0"),(0,s.kt)("mo",{parentName:"mrow",stretchy:"false"},")"),(0,s.kt)("mo",{parentName:"mrow",stretchy:"false"},"]")),(0,s.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\tau = E[Y(1) - Y(0)]")))),(0,s.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,s.kt)("span",{parentName:"span",className:"base"},(0,s.kt)("span",{parentName:"span",className:"strut",style:{height:"0.4306em"}}),(0,s.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.1132em"}},"\u03c4"),(0,s.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}),(0,s.kt)("span",{parentName:"span",className:"mrel"},"="),(0,s.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}})),(0,s.kt)("span",{parentName:"span",className:"base"},(0,s.kt)("span",{parentName:"span",className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,s.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.05764em"}},"E"),(0,s.kt)("span",{parentName:"span",className:"mopen"},"["),(0,s.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.22222em"}},"Y"),(0,s.kt)("span",{parentName:"span",className:"mopen"},"("),(0,s.kt)("span",{parentName:"span",className:"mord"},"1"),(0,s.kt)("span",{parentName:"span",className:"mclose"},")"),(0,s.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222em"}}),(0,s.kt)("span",{parentName:"span",className:"mbin"},"\u2212"),(0,s.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222em"}})),(0,s.kt)("span",{parentName:"span",className:"base"},(0,s.kt)("span",{parentName:"span",className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,s.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.22222em"}},"Y"),(0,s.kt)("span",{parentName:"span",className:"mopen"},"("),(0,s.kt)("span",{parentName:"span",className:"mord"},"0"),(0,s.kt)("span",{parentName:"span",className:"mclose"},")]")))))),(0,s.kt)("p",null,"Where ",(0,s.kt)("span",{parentName:"p",className:"math math-inline"},(0,s.kt)("span",{parentName:"span",className:"katex"},(0,s.kt)("span",{parentName:"span",className:"katex-mathml"},(0,s.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,s.kt)("semantics",{parentName:"math"},(0,s.kt)("mrow",{parentName:"semantics"},(0,s.kt)("mi",{parentName:"mrow"},"\u03c4")),(0,s.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\tau")))),(0,s.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,s.kt)("span",{parentName:"span",className:"base"},(0,s.kt)("span",{parentName:"span",className:"strut",style:{height:"0.4306em"}}),(0,s.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.1132em"}},"\u03c4")))))," is the Average Treatment Effect, ",(0,s.kt)("span",{parentName:"p",className:"math math-inline"},(0,s.kt)("span",{parentName:"span",className:"katex"},(0,s.kt)("span",{parentName:"span",className:"katex-mathml"},(0,s.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,s.kt)("semantics",{parentName:"math"},(0,s.kt)("mrow",{parentName:"semantics"},(0,s.kt)("mi",{parentName:"mrow"},"Y"),(0,s.kt)("mo",{parentName:"mrow",stretchy:"false"},"("),(0,s.kt)("mn",{parentName:"mrow"},"1"),(0,s.kt)("mo",{parentName:"mrow",stretchy:"false"},")")),(0,s.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"Y(1)")))),(0,s.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,s.kt)("span",{parentName:"span",className:"base"},(0,s.kt)("span",{parentName:"span",className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,s.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.22222em"}},"Y"),(0,s.kt)("span",{parentName:"span",className:"mopen"},"("),(0,s.kt)("span",{parentName:"span",className:"mord"},"1"),(0,s.kt)("span",{parentName:"span",className:"mclose"},")")))))," is the outcome with treatment, and ",(0,s.kt)("span",{parentName:"p",className:"math math-inline"},(0,s.kt)("span",{parentName:"span",className:"katex"},(0,s.kt)("span",{parentName:"span",className:"katex-mathml"},(0,s.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,s.kt)("semantics",{parentName:"math"},(0,s.kt)("mrow",{parentName:"semantics"},(0,s.kt)("mi",{parentName:"mrow"},"Y"),(0,s.kt)("mo",{parentName:"mrow",stretchy:"false"},"("),(0,s.kt)("mn",{parentName:"mrow"},"0"),(0,s.kt)("mo",{parentName:"mrow",stretchy:"false"},")")),(0,s.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"Y(0)")))),(0,s.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,s.kt)("span",{parentName:"span",className:"base"},(0,s.kt)("span",{parentName:"span",className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,s.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.22222em"}},"Y"),(0,s.kt)("span",{parentName:"span",className:"mopen"},"("),(0,s.kt)("span",{parentName:"span",className:"mord"},"0"),(0,s.kt)("span",{parentName:"span",className:"mclose"},")")))))," is the outcome without treatment. This framework forces us to consider what would have happened without a particular marketing intervention, providing a more accurate measure of true incremental impact."),(0,s.kt)("h2",{id:"moving-toward-causal-solutions"},"Moving Toward Causal Solutions"),(0,s.kt)("p",null,"To address these challenges at Ekimetrics, we've developed a hybrid approach that integrates causal inference into the classical MMM pipeline. By introducing a causal graph, we incorporate human expertise into the model, allowing us to explicitly represent and validate the relationships between variables. This step transforms MMM from a correlation-based tool into a causality-driven framework capable of uncovering adjusted marketing effectiveness."),(0,s.kt)("h3",{id:"mmm-preprocessing"},"MMM Preprocessing"),(0,s.kt)("p",null,"Begin with established MMM preprocessing techniques:"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},"Adstock transformations to capture carryover effects"),(0,s.kt)("li",{parentName:"ul"},"Saturation functions to model diminishing returns"),(0,s.kt)("li",{parentName:"ul"},"Seasonality adjustments to account for cyclical patterns")),(0,s.kt)("h3",{id:"building-a-causal-graph"},"Building a Causal Graph"),(0,s.kt)("p",null,"Next, we build a causal graph that visualizes relationships between variables. Unlike traditional approaches, this step embeds domain expertise directly into the model. For instance, media_X might depend on media_Y, media_Z. Our causal graph explicitly encodes this dependency and establishes direct and indirect paths to the outcome variable."),(0,s.kt)("h3",{id:"validating-relationships"},"Validating Relationships"),(0,s.kt)("p",null,"Once the causal structure is in place, we validate it through a combination of rigorous methods to ensure robustness and credibility:"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("p",{parentName:"li"},(0,s.kt)("strong",{parentName:"p"},"Independence Tests"),(0,s.kt)("br",{parentName:"p"}),"\n","We run statistical independence tests, such as the Chi-squared test, to verify whether the proposed relationships in the causal graph hold true in the data. These tests help confirm that the dependencies between variables are statistically significant and align with the causal structure.")),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("p",{parentName:"li"},(0,s.kt)("strong",{parentName:"p"},"Overlap Testing"),(0,s.kt)("br",{parentName:"p"}),"\n","When conditioning on specific variables (e.g., during causal discovery or effect estimation), it's crucial to ensure sufficient data points remain for robust analysis. We carefully assess data quantity and overlap to avoid issues of sparsity that could compromise the validity of the results. This step ensures that the model remains reliable even after stratifying or subsetting the data."))),(0,s.kt)("h3",{id:"quantifying-causal-effects"},"Quantifying Causal Effects"),(0,s.kt)("p",null,"To understand the impact of each media campaign on sales, we use tools like DoWhy to estimate the Average Treatment Effect (ATE) for each media variable. The ATE provides a quantitative measure of how much a given campaign influences sales, both directly and indirectly."),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-python"},"# For each channel, identify proper adjustment variables\nidentified_estimand = model.identify_effect(treatment='TV_Spend',\n                                           outcome='Sales')\n\n# Estimate causal effect using a method that leverages traditional MMM strengths\ncausal_estimate = model.estimate_effect(identified_estimand,\n                                      method_name=\"backdoor.linear_regression\")\n")),(0,s.kt)("p",null,"This analysis also helps uncover synergies and spillover effects between variables, shedding light on how different campaigns interact with each other to drive outcomes."),(0,s.kt)("h3",{id:"ensuring-robustness"},"Ensuring Robustness"),(0,s.kt)("p",null,"Validation is a critical step in ensuring the reliability and practical utility of our causal model. Rather than simply accepting point estimates, we systematically quantify the uncertainty associated with our causal effect measurements\u2014an approach that enhances both analytical rigor and decision-making transparency."),(0,s.kt)("p",null,"We employ several complementary techniques to measure uncertainty:"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("strong",{parentName:"li"},"Confidence Intervals"),": Using bootstrapping approaches to generate confidence intervals around our Average Treatment Effect (ATE) estimates. This provides stakeholders with a clear understanding of the range within which the true causal effect likely falls."),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("strong",{parentName:"li"},"Hypothesis Testing"),": Calculating p-values that indicate the statistical significance of identified effects, helping differentiate between genuine causal relationships and potential statistical noises."),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("strong",{parentName:"li"},"Sensitivity Analysis"),": Systematically varying model assumptions to understand how robust our causal estimates are to different specifications and data conditions.")),(0,s.kt)("p",null,"This focus on uncertainty measurement acknowledges the inherent limitations of causal inference in real-world settings with finite data. We recognize that causal estimates may be imperfect when data volume is limited, measurement noise is present, or when important variables might be unobserved. By transparently communicating these uncertainties, we enable more informed decision-making."),(0,s.kt)("p",null,"We also reconcile the experiment's results with Business validation. This involves comparing your causal MMM results against actual experimental data to verify that your model's predictions match observed outcomes in controlled settings. This process serves as a reality check that bridges statistical models with empirical evidence."),(0,s.kt)("h2",{id:"conclusion"},"Conclusion"),(0,s.kt)("p",null,"As marketing ecosystems become increasingly complex, the need for robust causal inference in MMM grows more critical. By acknowledging and addressing the causal nature of marketing effectiveness measurement, we can deliver more accurate and actionable insights to decision-makers."),(0,s.kt)("p",null,"Understanding MMM as a causal inference problem rather than just a regression task is crucial for modern marketing analytics. This perspective enables more accurate measurement of marketing effectiveness and better-informed decision-making in an increasingly complex digital landscape."),(0,s.kt)("h2",{id:"glossary"},"Glossary"),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Average Treatment Effect (ATE)"),(0,s.kt)("br",{parentName:"p"}),"\n","The mean difference in outcomes between units that received a treatment and units that did not. In marketing, this represents the average incremental impact of a marketing intervention (e.g., TV campaign) on a business outcome (e.g., sales)."),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Causal Discovery"),(0,s.kt)("br",{parentName:"p"}),"\n","The process of learning causal relationships from observational data. This involves identifying which variables cause others and constructing a causal graph based on statistical patterns in the data, often combined with domain knowledge."),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Causal Graph"),(0,s.kt)("br",{parentName:"p"}),"\n","A visual representation of causal relationships between variables using a Directed Acyclic Graph (DAG). In marketing, causal graphs explicitly show how marketing channels influence each other and sales, as well as how external factors like seasonality affect both marketing decisions and outcomes."),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Directed Acyclic Graph (DAG)"),(0,s.kt)("br",{parentName:"p"}),"\n","A mathematical structure consisting of nodes (variables) and directed edges (causal relationships) with no cycles. DAGs provide a formal way to represent causal assumptions and identify proper adjustment sets for causal estimation."),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Confounding Variables"),(0,s.kt)("br",{parentName:"p"}),"\n","Variables that influence both the treatment (e.g., marketing spend) and outcome (e.g., sales), potentially creating spurious associations. In marketing, seasonality is a common confounder as it affects both marketing decisions and consumer behavior."),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"DoWhy"),(0,s.kt)("br",{parentName:"p"}),"\n","An open-source Python library for causal inference that implements a four-step process: modeling, identification, estimation, and refutation. DoWhy provides tools to build causal graphs, identify proper estimation techniques, and validate causal assumptions."),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Overlap Testing"),(0,s.kt)("br",{parentName:"p"}),"\n","A validation technique that ensures sufficient data exists across different values of treatment variables to enable robust causal estimation. This helps avoid extrapolation beyond the support of the data.")))}d.isMDXComponent=!0},10556:(e,a,t)=>{t.d(a,{Z:()=>n});const n=t.p+"assets/images/causal_graph_example-21cb946e859e60771eff0357dfef2bfc.jpg"}}]);