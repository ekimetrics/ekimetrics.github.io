"use strict";(self.webpackChunkeki_lab=self.webpackChunkeki_lab||[]).push([[9440],{3905:(e,t,a)=>{a.d(t,{Zo:()=>c,kt:()=>h});var r=a(67294);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,r,o=function(e,t){if(null==e)return{};var a,r,o={},n=Object.keys(e);for(r=0;r<n.length;r++)a=n[r],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)a=n[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var p=r.createContext({}),l=function(e){var t=r.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},c=function(e){var t=l(e.components);return r.createElement(p.Provider,{value:t},e.children)},d="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},u=r.forwardRef((function(e,t){var a=e.components,o=e.mdxType,n=e.originalType,p=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),d=l(a),u=o,h=d["".concat(p,".").concat(u)]||d[u]||m[u]||n;return a?r.createElement(h,i(i({ref:t},c),{},{components:a})):r.createElement(h,i({ref:t},c))}));function h(e,t){var a=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var n=a.length,i=new Array(n);i[0]=u;var s={};for(var p in t)hasOwnProperty.call(t,p)&&(s[p]=t[p]);s.originalType=e,s[d]="string"==typeof e?e:o,i[1]=s;for(var l=2;l<n;l++)i[l]=a[l];return r.createElement.apply(null,i)}return r.createElement.apply(null,a)}u.displayName="MDXCreateElement"},93683:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>i,default:()=>m,frontMatter:()=>n,metadata:()=>s,toc:()=>l});var r=a(87462),o=(a(67294),a(3905));const n={title:"Power BI - Improve your development process by using multiple environments",author:"Samuel Cordano",author_url:"mailto:inno@ekimetrics.com",header_image_url:"img/blog/windmills.jpg",tags:["Power BI","Environments"],draft:!1,description:" Learn in this article why and how to use different environments when developing products in Power BI. ",keywords:["Data Science","EkiLab","Ekimetrics","Eki.Lab","Eki","Machine Learning","Artificial Intelligence","Power BI","Environments","Data Science for business"]},i=void 0,s={permalink:"/blog/2022/03/16/powerbi_multiple_environments",source:"@site/blog/2022-03-16-powerbi_multiple_environments.md",title:"Power BI - Improve your development process by using multiple environments",description:" Learn in this article why and how to use different environments when developing products in Power BI. ",date:"2022-03-16T00:00:00.000Z",formattedDate:"March 16, 2022",tags:[{label:"Power BI",permalink:"/blog/tags/power-bi"},{label:"Environments",permalink:"/blog/tags/environments"}],readingTime:5.755,hasTruncateMarker:!0,authors:[{name:"Samuel Cordano",url:"mailto:inno@ekimetrics.com"}],frontMatter:{title:"Power BI - Improve your development process by using multiple environments",author:"Samuel Cordano",author_url:"mailto:inno@ekimetrics.com",header_image_url:"img/blog/windmills.jpg",tags:["Power BI","Environments"],draft:!1,description:" Learn in this article why and how to use different environments when developing products in Power BI. ",keywords:["Data Science","EkiLab","Ekimetrics","Eki.Lab","Eki","Machine Learning","Artificial Intelligence","Power BI","Environments","Data Science for business"]},prevItem:{title:"Newsletter for March 2022",permalink:"/blog/2022/03/30/newsletter_March-2022"},nextItem:{title:"Newsletter for February 2022",permalink:"/blog/2022/02/28/newsletter_Feb-2022"}},p={authorsImageUrls:[void 0]},l=[{value:"In Power BI Desktop, make your data sources dynamic",id:"in-power-bi-desktop-make-your-data-sources-dynamic",level:2},{value:"Step 0 - (Baseline) Have a Power BI report connected to hard-coded data sources",id:"step-0---baseline-have-a-power-bi-report-connected-to-hard-coded-data-sources",level:3},{value:"Step 1- Creating Parameters inside your reports",id:"step-1--creating-parameters-inside-your-reports",level:3},{value:"Step 2- Using the \u2018Advanced Editor\u2019 to use the parameters when connecting to your data source",id:"step-2--using-the-advanced-editor-to-use-the-parameters-when-connecting-to-your-data-source",level:3},{value:"Part 2: In the Power BI Web Portal, create a deployment pipeline and assign parameters to each workspace",id:"part-2-in-the-power-bi-web-portal-create-a-deployment-pipeline-and-assign-parameters-to-each-workspace",level:2},{value:"Step 0 - (Baseline) Have your Power BI report already published to a Workspace",id:"step-0---baseline-have-your-power-bi-report-already-published-to-a-workspace",level:3},{value:"Step 1- Creating a Deployment Pipeline from your Workspace",id:"step-1--creating-a-deployment-pipeline-from-your-workspace",level:3},{value:"Step 2- Deploy your report from the Power BI Development Workspace to the Power BI Test Workspace",id:"step-2--deploy-your-report-from-the-power-bi-development-workspace-to-the-power-bi-test-workspace",level:3},{value:"Step 3- Modify the Deployment Parameters to use the correct parameters",id:"step-3--modify-the-deployment-parameters-to-use-the-correct-parameters",level:3},{value:"Conclusion",id:"conclusion",level:2}],c={toc:l},d="wrapper";function m(e){let{components:t,...n}=e;return(0,o.kt)(d,(0,r.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("div",{align:"center"},(0,o.kt)("p",null,"  ",(0,o.kt)("img",{alt:"screenshot-app ",src:a(82911).Z,width:"5430",height:"3620"}))),(0,o.kt)("p",null,"When building a piece of software, you don\u2019t want your users to see every messy part of your application creation process. In order to make sure you control what people see and when they have access to it, development teams use environments to create \u201cstages\u201d of the app which they consider good for releasing."),(0,o.kt)("p",null,"Each environment has its own unique purpose. There are different naming standards across the industry, although almost every process starts with a 'development' stage and ends with a 'production' stage. Here is a typical set of environments:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Development environment")," : where data scientist/data engineers/software engineers actually develop the product. The end user doesn\u2019t have access to this environment which allows developers to try new features freely. ")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"QA environment / Testing environment")," : once a product is sufficiently mature to be tested, it is deployed to a new environment in order for testers to work on a stable version, while allowing developers to continue working in the development environment at the same time. The end user doesn\u2019t have access to this environment")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Production environment")," : where the product will be deployed after testing and made accessible to the end client. Every features should work when the product reaches this stage."))),(0,o.kt)("div",{align:"center"},(0,o.kt)("p",null,(0,o.kt)("img",{src:a(48154).Z,width:"691",height:"357"}))),(0,o.kt)("p",null,"Furthermore, each environment should have its own database because in the same way that products evolve through development, databases also evolve: tables may be modified, added or deleted. Thus, the actual development process actually looks like this:"),(0,o.kt)("div",{align:"center"},(0,o.kt)("p",null,(0,o.kt)("img",{src:a(68191).Z,width:"490",height:"300"}))),(0,o.kt)("p",null,"Now that you know ",(0,o.kt)("strong",{parentName:"p"},"why")," you should use different environments when developing products, this article explains ",(0,o.kt)("strong",{parentName:"p"},"how")," to do that in Power BI! "),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},"In Power BI, the product you are developing is a ",(0,o.kt)("strong",{parentName:"p"},"Report")," and the environments are ",(0,o.kt)("strong",{parentName:"p"},"Workspaces"))),(0,o.kt)("admonition",{title:"Disclaimer  ",type:"note"},(0,o.kt)("ul",{parentName:"admonition"},(0,o.kt)("li",{parentName:"ul"},"This guide supposes you have already developed a Power BI report using ",(0,o.kt)("a",{parentName:"li",href:"https://powerbi.microsoft.com/en-us/desktop/"},"Power BI Desktop")," and published this report to a Power BI Workspace, accessible through the ",(0,o.kt)("a",{parentName:"li",href:"https://powerbi.microsoft.com/fr-fr/"},"Power BI Web Portal"),". "),(0,o.kt)("li",{parentName:"ul"},"These assumptions will be stated again at the beginning of each Part, in Step 0 - (Baseline)."))),(0,o.kt)("h2",{id:"in-power-bi-desktop-make-your-data-sources-dynamic"},"In Power BI Desktop, make your data sources dynamic"),(0,o.kt)("h3",{id:"step-0---baseline-have-a-power-bi-report-connected-to-hard-coded-data-sources"},"Step 0 - (Baseline) Have a Power BI report connected to hard-coded data sources"),(0,o.kt)("p",null,"As explained in the disclaimer, you should already have a report connected to data sources. Check out this documentation for more information about ",(0,o.kt)("a",{parentName:"p",href:"https://docs.microsoft.com/en-us/power-bi/connect-data/desktop-quickstart-connect-to-data"},"data sources")," in ",(0,o.kt)("a",{parentName:"p",href:"https://docs.microsoft.com/en-us/power-bi/connect-data/desktop-data-sources"},"Power BI"),". "),(0,o.kt)("p",null,"A typical report would have several tables in the pane Fields: "),(0,o.kt)("div",{align:"center"},(0,o.kt)("p",null,(0,o.kt)("img",{src:a(70525).Z,width:"447",height:"394"}))),(0,o.kt)("p",null,"As a little foreshadowing and making sure we are on the same page, open the Power Query editor (by clicking ",(0,o.kt)("em",{parentName:"p"},"Home")," (Top Ribbon) \u2192 ",(0,o.kt)("em",{parentName:"p"},"Transform Data")," \u2192 ",(0,o.kt)("em",{parentName:"p"},"Transform Data"),"; then ",(0,o.kt)("em",{parentName:"p"},"Advanced Editor"),") for one of your tables, and notice that all your data sourcing informations are hard-coded."),(0,o.kt)("p",null,(0,o.kt)("img",{src:a(37758).Z,width:"1916",height:"371"})),(0,o.kt)("p",null,(0,o.kt)("img",{src:a(35982).Z,width:"1167",height:"297"})),(0,o.kt)("p",null,"In the last picture, we have the following information hard-coded:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"The server is: dev-sql-01.database.windows.net")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"The database is: dev-db-01")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"The schema is: dev-rfd-crm"))),(0,o.kt)("p",null,"This hard-coded information is problematic as when we publish the report from one workspace to the next, the datasource will not change: we will always get our information from \u201cdev\u201d. What we need are parameters that change automatically as we change workspaces."),(0,o.kt)("h3",{id:"step-1--creating-parameters-inside-your-reports"},"Step 1- Creating Parameters inside your reports"),(0,o.kt)("p",null,"In the Power Query Editor, click the ",(0,o.kt)("em",{parentName:"p"},"Manage Parameters")," (top ribbon under the Home tab) \u2192 ",(0,o.kt)("em",{parentName:"p"},"New Parameter"),". (Or you can click ",(0,o.kt)("em",{parentName:"p"},"Manage Parameters")," and select the ",(0,o.kt)("em",{parentName:"p"},"New")," button on the top to create a parameter). You can fill in this form and select OK to create a new parameter."),(0,o.kt)("div",{align:"center"},(0,o.kt)("p",null,(0,o.kt)("img",{src:a(77035).Z,width:"498",height:"187"}))),(0,o.kt)("p",null,"You should create parameters for every variable that needs to change as you change workspaces. In my case, I needed to create 5 parameters:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"One server parameter")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"One database parameter")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Two schema parameters")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"One parameter called \u201cenv\u201d (with simply the options \u2018dev\u2019, \u2018ppd\u2019 and \u2018prd')"))),(0,o.kt)("p",null,(0,o.kt)("img",{src:a(92766).Z,width:"895",height:"966"})),(0,o.kt)("h3",{id:"step-2--using-the-advanced-editor-to-use-the-parameters-when-connecting-to-your-data-source"},"Step 2- Using the \u2018Advanced Editor\u2019 to use the parameters when connecting to your data source"),(0,o.kt)("p",null,"Now that you have created your parameters, use the following syntax to refer to your parameters when connecting to your datasource. "),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'#"ParameterName"\n')),(0,o.kt)("p",null,"Here is what the difference looks like for me. When the data sources variables are hard coded:"),(0,o.kt)("p",null,(0,o.kt)("img",{src:a(65565).Z,width:"1167",height:"297"})),(0,o.kt)("p",null,"When the data sources variables use parameters:"),(0,o.kt)("p",null,(0,o.kt)("img",{src:a(68709).Z,width:"1005",height:"241"})),(0,o.kt)("admonition",{title:"You made it through Part 1!",type:"note"},(0,o.kt)("p",{parentName:"admonition"},"You now know how to make your data sources dynamic inside your reports, you implemented it and pushed your report to your workspace.  "),(0,o.kt)("p",{parentName:"admonition"},"And know you ask yourself: \u201c",(0,o.kt)("em",{parentName:"p"},"But now, how can I make multiple workspaces and how do I change my report parameters automatically as I publish my report between workspaces?"),"\u201d "),(0,o.kt)("p",{parentName:"admonition"},"Check out Part 2 for the answer ! ")),(0,o.kt)("h2",{id:"part-2-in-the-power-bi-web-portal-create-a-deployment-pipeline-and-assign-parameters-to-each-workspace"},"Part 2: In the Power BI Web Portal, create a deployment pipeline and assign parameters to each workspace"),(0,o.kt)("p",null,"In order to use parameters, we will leverage Power BI\u2019s Deployment Pipeline feature. I encourage you to read Microsoft\u2019s official documentation ",(0,o.kt)("a",{parentName:"p",href:"https://docs.microsoft.com/en-us/power-bi/create-reports/deployment-pipelines-get-started"},"here")," if you encounter any issues when working with Deployment pipelines as it is fairly comprehensive. "),(0,o.kt)("h3",{id:"step-0---baseline-have-your-power-bi-report-already-published-to-a-workspace"},"Step 0 - (Baseline) Have your Power BI report already published to a Workspace"),(0,o.kt)("p",null,"Check out this ",(0,o.kt)("a",{parentName:"p",href:"https://www.youtube.com/watch?v=E0L1uXfefms"},"video")," if you haven\u2019t already published your report to a Power BI Workspace (don\u2019t hesitate to watch at speed x1.75 \ud83d\ude09 ) ."),(0,o.kt)("h3",{id:"step-1--creating-a-deployment-pipeline-from-your-workspace"},"Step 1- Creating a Deployment Pipeline from your Workspace"),(0,o.kt)("div",{align:"center"},(0,o.kt)("p",null,(0,o.kt)("img",{src:a(90126).Z,width:"652",height:"416"}))),(0,o.kt)("h3",{id:"step-2--deploy-your-report-from-the-power-bi-development-workspace-to-the-power-bi-test-workspace"},"Step 2- Deploy your report from the Power BI Development Workspace to the Power BI Test Workspace"),(0,o.kt)("p",null,(0,o.kt)("img",{src:a(73943).Z,width:"1674",height:"532"})),(0,o.kt)("h3",{id:"step-3--modify-the-deployment-parameters-to-use-the-correct-parameters"},"Step 3- Modify the Deployment Parameters to use the correct parameters"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"In the pipeline stage you want to create a dataset rule for, select ",(0,o.kt)("strong",{parentName:"p"},"Deployment settings"),".")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"From the Deployment settings pane, select the dataset you want to create a rule for.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Select ",(0,o.kt)("strong",{parentName:"p"},"Parameter rules"),", expand the list, and then select ",(0,o.kt)("strong",{parentName:"p"},"Add rule"),".")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Select a parameter from the list of parameters; the current value is shown. Edit the value to the value you want to take effect after each deployment."))),(0,o.kt)("div",{align:"center"},(0,o.kt)("p",null,(0,o.kt)("img",{src:a(95770).Z,width:"1081",height:"533"})),(0,o.kt)("p",null,(0,o.kt)("img",{src:a(34041).Z,width:"1666",height:"588"})),(0,o.kt)("p",null,(0,o.kt)("img",{src:a(17270).Z,width:"592",height:"802"}))),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("p",{parentName:"admonition"},"Notice on the bottom of the last screenshot the following mention: \u201c",(0,o.kt)("em",{parentName:"p"},"Rules will be applied when you deploy to this stage"),"\u201d."),(0,o.kt)("p",{parentName:"admonition"},"Thus: once you have set the deployment settings for your report, you need to redeploy your report immediately to this workspace because the rules haven\u2019t been applied yet \ud83d\ude05 .  ")),(0,o.kt)("h2",{id:"conclusion"},"Conclusion"),(0,o.kt)("p",null,"So this is how to use different environments in Power BI in a nutshell. We went from one workspace with a hard-coded data source, to three separate workspaces where when a report is pushed from one workspace to an other, its data source changes automatically! "),(0,o.kt)("p",null,"Definitely a lot of moving pieces here, but understanding theses concepts will make your workflow easier and less error-prone in the long-run ! "),(0,o.kt)("p",null,"I hope this information can help you on your Power BI journey!"))}m.isMDXComponent=!0},90126:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/10_pbi-9e58c88d0464b8c1bbfd9b8049f5a4d0.png"},73943:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/11_pbi-b76cec09a1ad258ad02ae279b16c20fe.png"},95770:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/12_pbi-88b95be953eb9c1dd28e2316ad1eed1f.png"},34041:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/13_pbi-76e9ba92a694789e303b7271df2bf614.png"},17270:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/14_pbi-976587e38b0e5f0a9996df0f089deba6.png"},48154:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/1_pbi-7fba92ca104a1e21a8a0cb954366abca.png"},68191:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/2_pbi-a2fd174f02de181e7229cb902e9e9bd6.png"},70525:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/3_pbi-a79129f5734dead688f2050862358db0.png"},37758:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/4_pbi-c2429c7124c92539f7905d0ccae07274.png"},35982:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/5_pbi-6132b957d5cc458faa7ff7adeac543d8.png"},77035:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/6_pbi-cac756688b33cb6d56f5a6b97031819f.png"},92766:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/7_pbi-89490893349517986e76afafc9a840f5.png"},65565:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/8_pbi-6132b957d5cc458faa7ff7adeac543d8.png"},68709:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/9_pbi-2e3251dd4849eef049f68ff688e41776.png"},82911:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/windmills-92cf861462ce53a8a2c3bb77743bdb0f.jpg"}}]);